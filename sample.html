<html>
    <head>
        <script src="http://js.leapmotion.com/0.2.0/leap.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <style type="text/css">
            body {
                width: 100%;
                height: 100%;
                position: fixed;
            }
        </style>
    </head>
    <body id="content">
            <canvas></canvas>
        <script>
            $(function(){
                $("canvas").attr({height:$("#content").height()});
                $("canvas").attr({width:$("#content").width()});

                var centerX = $("canvas").width()/2;
                var centerY = $("canvas").height()/2;

                draw(centerX, centerY, 10);

                Leap.loop(function(frame){
                    if(frame.fingers[0]){
                        var x = frame.fingers[0].tipPosition[0];
                        var y = frame.fingers[0].tipPosition[1];
                        var z = frame.fingers[0].tipPosition[2];

                        draw(x + centerX, $("canvas").height()-y, -z);
                    }
                });

                function draw(x, y, z){
                    absZ = Math.abs(z);
                    var canvas = $('canvas')[0];
                    var context = canvas.getContext('2d');

                    context.clearRect(0, 0, $("canvas").width(), $("canvas").height());
                    context.beginPath();
                    context.strokeStyle = z < 0 ? "rgb(255, 0, 0)" : "rgb(0, 0, 255)";
                    context.arc(x, y, absZ, 0, Math.PI*2, false);
                    context.stroke();
                };
            });
        </script>
    </body>
</html>
